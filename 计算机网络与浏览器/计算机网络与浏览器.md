[复习一下 18 个「计网 浏览器」知识点](https://mp.weixin.qq.com/s?__biz=Mzg2NjY2NTcyNg==&mid=2247485855&idx=1&sn=fa4775a2a554da513d27456d9c1501fd&chksm=ce461c0ef931951830e2637a690b4a1dcbb9f42e0e9fedfdb354381c540a4bf89514971799a9&scene=178&cur_album_id=2003210846134419459#rd)

#### 一、UDP 和 TCP 的区别？

TCP 是面向连接的协议，UDP 是无连接的协议，可以一对多，多对多
TCP 是有顺序的，UDP 没有顺序
TCP 传输过程丢失会重发，是可靠的，UDP 不会，是不可靠的
TCP 较慢，UDP 较快，应用于在线音视频、游戏等
TCP 有流量控制，UDP 没有

#### 二、进程和线程的区别？

进程是资源分配最小单位，多进程应用就是一个应用有多个进程
线程是 CPU 的分配的最小单位，一个进程可以有多个线程，也可以只有一个

#### 三、浏览器有哪些进程？

浏览器是一个多进程应用：

Brower 进程：负责浏览器与用户的交互，例如前进倒退，资源下载
插件进程：一个插件一个进程
GPU 进程：负责动画/3D
渲染进程：即浏览器内核，负责渲染，脚本执行

#### 四、渲染进程有哪些线程

GUI 线程：负责解析 DOM，渲染 DOM，重绘回流。它与 JS 线程互斥
JS 引擎线程：负责 JavaScript 脚本的执行，一个 tab 一个线程
异步 http 线程：XHR 请求的线程
事件触发线程：控制事件循环的线程
定时触发器线程：控制定时器的线程

#### 五、GET 和 POST 的区别？

从缓存角度来说：GET 请求的东西会被浏览器缓存，POST 不会
从编码角度来说：GET 进行 URL 编码，只能接收 ASCII 字符，而 POST 没有限制
从参数角度来说：GET 参数一般放在 URL 上，POST 放在 body 里
从幂等角度来说，GET 是幂等的，POST 不是

#### 六、HTTPS 是怎么做到安全的？

- 1.对称加密
  描述：服务端准备一把公钥，并提前把它交给客户端，之后客户端和服务端之间的通信，都使用这把公钥来加密
  缺点：这把公钥可能会被黑客拦截，之后可以一直解密客户端传送的信息，并进行篡改，再使用公钥进行加密后发给服务端，服务端使用公钥解密得到黑客篡改后的信息
- 2.非对称加密
  描述：服务端准备公钥、私钥，且公钥加密的信息只能通过私钥来解密。服务端提前将公钥发给客户端，客户端之后一直使用公钥来加密信息传送给服务端，服务端使用私钥进行解密
  优点：黑客就算中途拦截了公钥，也没用，因为只能通过私钥进行解密，而私钥一直存在服务端，黑客拿不到
  缺点：黑客可以在一开始拦截你的公钥，然后伪造两把黑客公钥、黑客私钥，然后把黑客公钥发给客户端，之后客户端一直使用黑客公钥进行加密通信，信息被黑客拦截，并使用黑客私钥进行解密，之后进行篡改，并使用公钥加密之后发给服务端，服务端通过私钥解密得到黑客篡改后的信息
- 3.对称加密 + 非对称加密
  HTTPS 就是利用对称加密 + 非对称加密，做到安全传输的：
  第一步：服务端将公钥发给证书机构申请证书
  第二步：证书机构生成机构公钥、机构私钥，使用机构私钥对公钥、证书签名 一起打包成 证书 ，重新发回给服务端进行加密，同时根据网站生成 证书签名 ，并用 机构私钥 加密 证书签名 ，最终将加密后的 公钥
  第三步：服务端将证书发给客户端，客户端在浏览器中匹配对应的证书机构的机构公钥，先对证书签名进行解密，并根据其签名规则生成一个新的证书签名，两个证书签名一致的话，则再次通过机构公钥对公钥进行解密，至此，客户端得到了公钥
  第四步：客户端拿着公钥，按照对称加密的方式，跟服务端进行通信

[对称加密和非对称加密详解]https://blog.csdn.net/Booboochen/article/details/82289627
[https+非对称加密+对称加密]https://blog.csdn.net/a407479/article/details/80634789

#### 七、从输入 URL 到显示，经历了什么？

```
1、解析 URL，看是否能读取缓存（现阶段强缓存、握手后协商缓存）
2、进行 DNS 的域名解析
3、TCP/IP 连接，三次握手
    3.1 客户端告诉服务端：我要建立连接了
    3.2 服务端告诉客户端：我知道了
    3.3 客户端告诉服务端：我现在发，你准备接收
4、HTTP 请求并且响应
5、浏览器解析和布局
    5.1 对 DOM 树按照字节、字符、令牌、节点、对象模型的顺序进行解析
    5.2 对 CSSOM 也一样解析顺序
    5.3 遇到 js 脚本则会等待，除非有 async、defer 属性
    5.4 布局 layout，就是将 DOM 树根 CSSOM 合并成渲染树
6、浏览器进行渲染
    6.1 获取到 DOM 后分割成多个图层
    6.2 对每个图层的节点计算样式结果
    6.3 为每个节点生成图形和位置（重绘回流）
    6.4 将节点填充到指定位置（重绘）
    6.5 图层作为纹理上传至 GPU
    6.6 组合多个图层到页面上，生成最终屏幕图像
7、断开连接，TCP4 次挥手
```

#### 八、浏览器强缓存，协议缓存

```
(1)强缓存
使用强缓存策略时，如果缓存资源有效，则直接使用缓存资源，不必再相服务器发起请求。
强缓存策略可以通过两种方式来设置，分别是 http 头信息中的 Expires 属性和 Cache-Control 属性。
(2)协商缓存
如果命中强制缓存，我们无需发起新的请求，直接使用缓存内容，如果没有命中强制缓存，如果设置了协商缓存，这个时候协商缓存就会发挥作用了。
命中协商缓存的条件有两个：
    1、max-age=xxx 过期了；
    2、值为 no-store
使用协商缓存策略时，会先向服务器发送一个请求，如果资源没有发生修改，则返回一个304状态，让浏览器使用本地的缓存副本。如果资源发生了修改，则返回修改后的资源。
```
